<template>
  <div id="gallery" class="gallery">
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1565597847806-605e7fc063cd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3386&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1563558492234-462b1e226123?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3334&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1555414244-5d86ec19ea34?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1527821468487-b724210d296a?ixlib=rb-1.2.1&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1546138823-07da5db6c7fc?ixlib=rb-1.2.1&auto=format&fit=crop&w=3400&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1518835633655-f1e358a1d685?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3412&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1553323855-cc1abf1930d2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2765&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1501890664351-4ef399c1524f?ixlib=rb-1.2.1&auto=format&fit=crop&w=3289&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1528783848474-fe2140874d1a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3064&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1521296382126-7f742828640b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3310&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1527765519142-eb16ebaa1be6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1513171920216-2640b288471b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1709&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1532746091757-009cbbf267a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3333&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1521446370169-0f10e8a09f8a?ixlib=rb-1.2.1&auto=format&fit=crop&w=3302&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1462558073967-9fd054c339d1?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1496115965489-21be7e6e59a0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3334&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1467454815259-9176a7e143af?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1477477384939-312ffc1177bf?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1466232373731-46205f0b668e?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2304&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1554867459-f8e06014810a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2976&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1523191717306-8311d268647c?ixlib=rb-1.2.1&auto=format&fit=crop&w=3090&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1505116778535-d63c51911367?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3296&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1539250398789-c396f53b8bcd?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3264&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1524544774-328b1e40a132?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2127&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1508764579556-cbb274b04d63?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1552627019-947c3789ffb5?ixlib=rb-1.2.1&auto=format&fit=crop&w=3289&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1555857289-c8d82c1473d8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80" alt=""></div>
    <div class="gallery-item"><img src="https://images.unsplash.com/photo-1511211933040-aa3ef2529ec2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3402&q=80" alt=""></div>
  </div>
</template>

<script>
  export default {
    name: 'Main',
    mounted() {
      this.masonryLayout(document.getElementById('gallery'), document.querySelectorAll('.gallery-item'), 3);
    },
    methods: {
      masonryLayout(containerElem, itemsElems, columns) {
        containerElem.classList.add('masonry-layout', `columns-${columns}`);
        let columnsElements = [];

        for (let i = 1; i <= columns; i++) {
          let column = document.createElement('div');
          column.classList.add('masonry-column', `column-${i}`);
          containerElem.appendChild(column);
          columnsElements.push(column);
        }
        
        for (let m = 0; m < Math.ceil(itemsElems.length / columns); m++) {
          for (let n = 0; n < columns; n++) {
            let item = itemsElems[m * columns + n];
            if (item) {
              columnsElements[n].appendChild(item);
              item.classList.add('masonry-item');
            }
          }
        }
      },
    },
  }
</script>

<style scoped>
  
</style>
